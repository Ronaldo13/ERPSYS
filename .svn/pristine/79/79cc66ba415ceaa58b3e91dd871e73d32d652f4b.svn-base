package com.hqyj.controller.lbl;

import javax.servlet.http.HttpServletRequest;

import org.apache.shiro.authz.annotation.Logical;
import org.apache.shiro.authz.annotation.RequiresRoles;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import com.hqyj.service.lbl.ProductMaterialService;
import com.hqyj.service.lbl.ProductOutLogService;
import com.hqyj.service.lbl.ProductResultService;
import com.hqyj.service.lbl.ProductingService;

@Controller
@RequestMapping("/add")
public class ProductAddController {

	@Autowired
	private ProductingService pis;

	@Autowired
	private ProductResultService prs;

	@Autowired
	private ProductMaterialService pms;

	@Autowired
	private ProductOutLogService pols;

	/**
	 * .增加生产信息
	 * @return
	 */
	@RequestMapping("/addproductingdate")
	@RequiresRoles(value= {"admin","produce"},logical=Logical.OR)
	@ResponseBody
	public String addproductingdate(HttpServletRequest request) {
		int i = pis.insert(request);
		if (i != 0) {
			return "SUCCESS";
		} else {
			return "FAIL";
		}
	}
	/**
	 * .增加生产结果信息
	 * @return
	 */
	@RequestMapping("/addproductresultdate")
	@RequiresRoles(value= {"admin","produce"},logical=Logical.OR)
	@ResponseBody
	public String addproductresultdate(HttpServletRequest request) {
		int i = prs.insert(request);
		if (i != 0) {
			return "SUCCESS";
		} else {
			return "FAIL";
		}
	}

	/**
	 * .增加材料表信息
	 * @return
	 */
	@RequestMapping("/addproductmaterialdate")
	@RequiresRoles(value= {"admin","produce"},logical=Logical.OR)
	@ResponseBody
	public String addproductmaterialdate(HttpServletRequest request) {
		int i = pms.insert(request);
		if (i != 0) {
			return "SUCCESS";
		} else {
			return "FAIL";
		}
	}

	/**
	 * .增加出货日志表信息
	 * @return
	 */
	@RequestMapping("/addproductoutlogdate")
	@RequiresRoles(value= {"admin","produce"},logical=Logical.OR)
	@ResponseBody
	public String addproductoutlogdate(HttpServletRequest request) {
		int i = pols.insert(request);
		if (i != 0) {
			return "SUCCESS";
		} else {
			return "FAIL";
		}
	}
}
